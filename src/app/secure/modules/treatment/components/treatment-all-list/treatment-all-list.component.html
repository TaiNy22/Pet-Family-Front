<article class="treatment-list article-container">
  <section class="py-2">
    <label class="fs-3 text-white fw-bold">Lista de Tratamientos</label>
  </section>

  <section class="w-100 body-overflow">
    <section class="card table-responsive">
      <table class="table table-striped table-hover">
        <thead>
        <tr>
          <th scope="col">Mascota</th>
          <th scope="col">Título</th>
          <th scope="col">Descripción</th>
          <th scope="col">Consulta</th>
          <th scope="col">Próxima Consulta</th>
          <th scope="col">Opciones</th>
        </tr>
        </thead>

        <tbody>
        <tr class="pet-list-item" *ngFor="let treatment of treatmentList">
          <td>{{treatment.pet.name | titlecase}}</td>
          <td>{{treatment.title | titlecase}}</td>
          <td>{{treatment.description}}</td>
          <td>{{treatment.date | date:'dd MMM yyyy':'UTC+4'}}</td>
          <td>{{treatment.nextDate | date:'dd MMM yyyy':'UTC+4'}}</td>
          <td>
            <span class="list-button fa-solid fa-pen text-info "
                  (click)="editTreatment(treatment)"></span>

            <span class="list-button fa-solid fa-trash text-danger mx-2"
                  (click)="deleteTreatment(treatment)"></span>

            <span class="list-button fa-solid fa-file text-success"
                  (click)="openReport(treatment)"></span>
          </td>
        </tr>
        </tbody>
      </table>
    </section>
  </section>
</article>

<section class="treatment-list-add-container w-100 h-100"
         *ngIf="showAddTreatment">
  <section class="treatment-list-add">
    <app-treatment-add [petId]="!!this.treatmentToEdit ? this.treatmentToEdit.pet.id.toString() : ''"
                       [treatmentEdit]="treatmentToEdit"
                       [editModeActive]="editModeActive"
                       (emitTreatment)="saveNewTreatment($event)"
                       (cancelAdd)="cancelAddTreatment()"></app-treatment-add>
  </section>
</section>

<section class="treatment-all-list-add-container w-100 h-100"
         *ngIf="showReportTreatment">
  <app-treatment-report [treatment]="treatmentToReport"
                        [petId]="treatmentToReport.pet.id.toString()"
                        (close)="showReportTreatment = !showReportTreatment"></app-treatment-report>
</section>
